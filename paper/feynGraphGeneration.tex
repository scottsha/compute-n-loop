\documentclass[12pt]{article}
\usepackage{enumerate}
\usepackage{hyperref}
\usepackage{mathtools}

\begin{document}
If $G$ is a connected looped multigraph the \emph{Feynmann loop number} 
$L(G)$ is
the number of 1-vertices plus the number 2-vertices plus the number of holes
(i.e. rank of the fundamental group= $|E|-|V|+1 =\chi+1$).

$$
L(G)=|V_1|+|V_2|+|E|-|V|+1
$$
Observe that if an edge $e=\{vw\}$  with is added to $G$ then
$$
 L(G\cup\{e\}) =
  \begin{cases}
   L(G)-1 & \text{if } \deg(v)=\deg(w)=2 \mbox{ and } v \neq w \\
   L(G) & \text{if } v=w \mbox{ and } \deg(v) \in \{1,2\} \\
        & \text{ or if } \deg(v)=2 \mbox{ and } \deg(w) \neq 2 \\
   L(G)+1  &  \text{else}
  \end{cases}
$$     
If $G$ is a looped multigraph its simplification $S(G)$ is the simple graph
obtained from $G$ by deleting all loops and collapsing multiedges.
Observe that $G$ can be obtained from $S(G)$ by adding loops and multiedges and
if $L(G) \leq n$ then $S(G)$ has at most $n$ holes and $2(n-1)$ vertices as
\begin{align*}
n &\geq |V_1|+|V_2| + \frac 1 2 \sum_k k|V_k| -|V|+1 \\
&= \frac 1 2 |V_1| + |V_2| +\sum_{k\geq 3} \left (\frac k 2 - 1 \right) |V_k|+1 \\
&\geq \frac 1 2 |V|+\frac 1 2 |V_2|+1 \\
&\geq \frac 1 2 |V|+1 
\end{align*}
These bound is tight. If $n>2$ then the looped graph with a single vertex
and $n$ loops achieves the bound on the number of holes. 
The trivalent graph
with $2(n-1)$ vertices arranged in a cycle with every other edge a 2-multiedge
has  achieves a loop number $n$.

All Feynmann diagrams with Feynmann loop number at most $n$ can thus be generated by first generating all trees with at most $2(n-1)$ vertices then iteratively adding edges between pairs of vertices. 
Every edge added also adds an additional hole. 
If looped multigraph $G$ has more than $n-|V_1|-|V_2|$ holes it cannot be the subgraph of a Feynmann diagram with Feynmann loop number at most $n$.
Thus contributing diagrams can be computed by brute force exhaustion via iteratively adding edges.
                                                                              
\end{document}
